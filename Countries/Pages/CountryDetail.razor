@page "/countrydetail/{Name}"
@inject IApiConnector<Rootobject> ApiConnector
@inject HttpClient HttpClient
<HeaderComponent />

<div class="btn-back-container">
    <a href="/" class="btn-back">Back</a>
</div>

@_country?.at.name

@*<section>
    @if (_country != null)
    {
        <img class="card-img" src="@_country.flags.png" alt="flag from specific country"/>
        <p>@_country.name.official</p>
        <p>Native Name: @_country.name.nativeName</p>
        <p>Population: @_country.population</p>
        <p>Region: @_country.region</p>
        <p>Sub Region: @_country.subregion</p>
        @*<p>Capital: @_country.capital.Capacity</p>
        <br/>
        <p>Top Level Domain: @_country.name.common</p>
        <p>Currencies: @_country.currencies</p>
        <p>Languages: @_country.languages.ara</p>
        <br/>
        <p>Border countries: </p>
</section>*@

@code {

    [Parameter]
    public string? Name { get; set; }

    private Rootobject? _country { get; set; } = new ();


    protected override async Task OnInitializedAsync()
    {
        _country = await ApiConnector.GetAsync($"https://countryapi.io/api/name/{Name}?apikey=Vg7nKDoCIKlcAB0bvhlQUubPY3AOVNGBgJCx91gD");
    }

}
